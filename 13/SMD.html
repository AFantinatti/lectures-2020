<!DOCTYPE html>
<HTML lang = "en">
<HEAD>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Estimating a simpel model by simulated minimum distance (SMD)</title>
  

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

  
<style>
pre.hljl {
    border: 1px solid #ccc;
    margin: 5px;
    padding: 5px;
    overflow-x: auto;
    color: rgb(68,68,68); background-color: rgb(251,251,251); }
pre.hljl > span.hljl-t { }
pre.hljl > span.hljl-w { }
pre.hljl > span.hljl-e { }
pre.hljl > span.hljl-eB { }
pre.hljl > span.hljl-o { }
pre.hljl > span.hljl-k { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kc { color: rgb(59,151,46); font-style: italic; }
pre.hljl > span.hljl-kd { color: rgb(214,102,97); font-style: italic; }
pre.hljl > span.hljl-kn { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kp { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kr { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kt { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-n { }
pre.hljl > span.hljl-na { }
pre.hljl > span.hljl-nb { }
pre.hljl > span.hljl-nbp { }
pre.hljl > span.hljl-nc { }
pre.hljl > span.hljl-ncB { }
pre.hljl > span.hljl-nd { color: rgb(214,102,97); }
pre.hljl > span.hljl-ne { }
pre.hljl > span.hljl-neB { }
pre.hljl > span.hljl-nf { color: rgb(66,102,213); }
pre.hljl > span.hljl-nfm { color: rgb(66,102,213); }
pre.hljl > span.hljl-np { }
pre.hljl > span.hljl-nl { }
pre.hljl > span.hljl-nn { }
pre.hljl > span.hljl-no { }
pre.hljl > span.hljl-nt { }
pre.hljl > span.hljl-nv { }
pre.hljl > span.hljl-nvc { }
pre.hljl > span.hljl-nvg { }
pre.hljl > span.hljl-nvi { }
pre.hljl > span.hljl-nvm { }
pre.hljl > span.hljl-l { }
pre.hljl > span.hljl-ld { color: rgb(148,91,176); font-style: italic; }
pre.hljl > span.hljl-s { color: rgb(201,61,57); }
pre.hljl > span.hljl-sa { color: rgb(201,61,57); }
pre.hljl > span.hljl-sb { color: rgb(201,61,57); }
pre.hljl > span.hljl-sc { color: rgb(201,61,57); }
pre.hljl > span.hljl-sd { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdB { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdC { color: rgb(201,61,57); }
pre.hljl > span.hljl-se { color: rgb(59,151,46); }
pre.hljl > span.hljl-sh { color: rgb(201,61,57); }
pre.hljl > span.hljl-si { }
pre.hljl > span.hljl-so { color: rgb(201,61,57); }
pre.hljl > span.hljl-sr { color: rgb(201,61,57); }
pre.hljl > span.hljl-ss { color: rgb(201,61,57); }
pre.hljl > span.hljl-ssB { color: rgb(201,61,57); }
pre.hljl > span.hljl-nB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nbB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nfB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nh { color: rgb(59,151,46); }
pre.hljl > span.hljl-ni { color: rgb(59,151,46); }
pre.hljl > span.hljl-nil { color: rgb(59,151,46); }
pre.hljl > span.hljl-noB { color: rgb(59,151,46); }
pre.hljl > span.hljl-oB { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-ow { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-p { }
pre.hljl > span.hljl-c { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-ch { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cm { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cp { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cpB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cs { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-csB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-g { }
pre.hljl > span.hljl-gd { }
pre.hljl > span.hljl-ge { }
pre.hljl > span.hljl-geB { }
pre.hljl > span.hljl-gh { }
pre.hljl > span.hljl-gi { }
pre.hljl > span.hljl-go { }
pre.hljl > span.hljl-gp { }
pre.hljl > span.hljl-gs { }
pre.hljl > span.hljl-gsB { }
pre.hljl > span.hljl-gt { }
</style>



  <style type="text/css">
  @font-face {
  font-style: normal;
  font-weight: 300;
}
@font-face {
  font-style: normal;
  font-weight: 400;
}
@font-face {
  font-style: normal;
  font-weight: 600;
}
html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  font-family: monospace, monospace;
  font-size : 0.8em;
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
thead th {
    border-bottom: 1px solid black;
    background-color: white;
}
tr:nth-child(odd){
  background-color: rgb(248,248,248);
}


/*
* Skeleton V2.0.4
* Copyright 2014, Dave Gamache
* www.getskeleton.com
* Free to use under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
* 12/29/2014
*/
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }
.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }
@media (min-width: 400px) {
  .container {
    width: 85%;
    padding: 0; }
}
@media (min-width: 550px) {
  .container {
    width: 80%; }
  .column,
  .columns {
    margin-left: 4%; }
  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns                    { width: 4.66666666667%; }
  .two.columns                    { width: 13.3333333333%; }
  .three.columns                  { width: 22%;            }
  .four.columns                   { width: 30.6666666667%; }
  .five.columns                   { width: 39.3333333333%; }
  .six.columns                    { width: 48%;            }
  .seven.columns                  { width: 56.6666666667%; }
  .eight.columns                  { width: 65.3333333333%; }
  .nine.columns                   { width: 74.0%;          }
  .ten.columns                    { width: 82.6666666667%; }
  .eleven.columns                 { width: 91.3333333333%; }
  .twelve.columns                 { width: 100%; margin-left: 0; }

  .one-third.column               { width: 30.6666666667%; }
  .two-thirds.column              { width: 65.3333333333%; }

  .one-half.column                { width: 48%; }

  /* Offsets */
  .offset-by-one.column,
  .offset-by-one.columns          { margin-left: 8.66666666667%; }
  .offset-by-two.column,
  .offset-by-two.columns          { margin-left: 17.3333333333%; }
  .offset-by-three.column,
  .offset-by-three.columns        { margin-left: 26%;            }
  .offset-by-four.column,
  .offset-by-four.columns         { margin-left: 34.6666666667%; }
  .offset-by-five.column,
  .offset-by-five.columns         { margin-left: 43.3333333333%; }
  .offset-by-six.column,
  .offset-by-six.columns          { margin-left: 52%;            }
  .offset-by-seven.column,
  .offset-by-seven.columns        { margin-left: 60.6666666667%; }
  .offset-by-eight.column,
  .offset-by-eight.columns        { margin-left: 69.3333333333%; }
  .offset-by-nine.column,
  .offset-by-nine.columns         { margin-left: 78.0%;          }
  .offset-by-ten.column,
  .offset-by-ten.columns          { margin-left: 86.6666666667%; }
  .offset-by-eleven.column,
  .offset-by-eleven.columns       { margin-left: 95.3333333333%; }

  .offset-by-one-third.column,
  .offset-by-one-third.columns    { margin-left: 34.6666666667%; }
  .offset-by-two-thirds.column,
  .offset-by-two-thirds.columns   { margin-left: 69.3333333333%; }

  .offset-by-one-half.column,
  .offset-by-one-half.columns     { margin-left: 52%; }

}
html {
  font-size: 62.5%; }
body {
  font-size: 1.5em; /* currently ems cause chrome bug misinterpreting rems on body element */
  line-height: 1.6;
  font-weight: 400;
  font-family: "Raleway", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #222; }
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: 2rem;
  font-weight: 300; }
h1 { font-size: 3.6rem; line-height: 1.2;  letter-spacing: -.1rem;}
h2 { font-size: 3.4rem; line-height: 1.25; letter-spacing: -.1rem; }
h3 { font-size: 3.2rem; line-height: 1.3;  letter-spacing: -.1rem; }
h4 { font-size: 2.8rem; line-height: 1.35; letter-spacing: -.08rem; }
h5 { font-size: 2.4rem; line-height: 1.5;  letter-spacing: -.05rem; }
h6 { font-size: 1.5rem; line-height: 1.6;  letter-spacing: 0; }

p {
  margin-top: 0; }
a {
  color: #1EAEDB; }
a:hover {
  color: #0FA0CE; }
.button,
button,
input[type="submit"],
input[type="reset"],
input[type="button"] {
  display: inline-block;
  height: 38px;
  padding: 0 30px;
  color: #555;
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  line-height: 38px;
  letter-spacing: .1rem;
  text-transform: uppercase;
  text-decoration: none;
  white-space: nowrap;
  background-color: transparent;
  border-radius: 4px;
  border: 1px solid #bbb;
  cursor: pointer;
  box-sizing: border-box; }
.button:hover,
button:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
input[type="button"]:hover,
.button:focus,
button:focus,
input[type="submit"]:focus,
input[type="reset"]:focus,
input[type="button"]:focus {
  color: #333;
  border-color: #888;
  outline: 0; }
.button.button-primary,
button.button-primary,
input[type="submit"].button-primary,
input[type="reset"].button-primary,
input[type="button"].button-primary {
  color: #FFF;
  background-color: #33C3F0;
  border-color: #33C3F0; }
.button.button-primary:hover,
button.button-primary:hover,
input[type="submit"].button-primary:hover,
input[type="reset"].button-primary:hover,
input[type="button"].button-primary:hover,
.button.button-primary:focus,
button.button-primary:focus,
input[type="submit"].button-primary:focus,
input[type="reset"].button-primary:focus,
input[type="button"].button-primary:focus {
  color: #FFF;
  background-color: #1EAEDB;
  border-color: #1EAEDB; }
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea,
select {
  height: 38px;
  padding: 6px 10px; /* The 6px vertically centers text on FF, ignored by Webkit */
  background-color: #fff;
  border: 1px solid #D1D1D1;
  border-radius: 4px;
  box-shadow: none;
  box-sizing: border-box; }
/* Removes awkward default styles on some inputs for iOS */
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea {
  -webkit-appearance: none;
     -moz-appearance: none;
          appearance: none; }
textarea {
  min-height: 65px;
  padding-top: 6px;
  padding-bottom: 6px; }
input[type="email"]:focus,
input[type="number"]:focus,
input[type="search"]:focus,
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
  border: 1px solid #33C3F0;
  outline: 0; }
label,
legend {
  display: block;
  margin-bottom: .5rem;
  font-weight: 600; }
fieldset {
  padding: 0;
  border-width: 0; }
input[type="checkbox"],
input[type="radio"] {
  display: inline; }
label > .label-body {
  display: inline-block;
  margin-left: .5rem;
  font-weight: normal; }
ul {
  list-style: circle; }
ol {
  list-style: decimal; }
ul ul,
ul ol,
ol ol,
ol ul {
  margin: 1.5rem 0 1.5rem 3rem;
  font-size: 90%; }
li > p {margin : 0;}
th,
td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #E1E1E1; }
th:first-child,
td:first-child {
  padding-left: 0; }
th:last-child,
td:last-child {
  padding-right: 0; }
button,
.button {
  margin-bottom: 1rem; }
input,
textarea,
select,
fieldset {
  margin-bottom: 1.5rem; }
pre,
blockquote,
dl,
figure,
table,
p,
ul,
ol,
form {
  margin-bottom: 1.0rem; }
.u-full-width {
  width: 100%;
  box-sizing: border-box; }
.u-max-full-width {
  max-width: 100%;
  box-sizing: border-box; }
.u-pull-right {
  float: right; }
.u-pull-left {
  float: left; }
hr {
  margin-top: 3rem;
  margin-bottom: 3.5rem;
  border-width: 0;
  border-top: 1px solid #E1E1E1; }
.container:after,
.row:after,
.u-cf {
  content: "";
  display: table;
  clear: both; }

pre {
  display: block;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre.hljl {
  margin: 0 0 10px;
  display: block;
  background: #f5f5f5;
  border-radius: 4px;
  padding : 5px;
}

pre.output {
  background: #ffffff;
}

pre.code {
  background: #ffffff;
}

pre.julia-error {
  color : red
}

code,
kbd,
pre,
samp {
  font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
  font-size: 13px;
}


@media (min-width: 400px) {}
@media (min-width: 550px) {}
@media (min-width: 750px) {}
@media (min-width: 1000px) {}
@media (min-width: 1200px) {}

h1.title {margin-top : 20px}
img {max-width : 100%}
div.title {text-align: center;}

  </style>



</HEAD>
  <BODY>
    <div class ="container">
      <div class = "row">
        <div class = "col-md-12 twelve columns">

          <div class="title">
            <h1 class="title">Estimating a simpel model by simulated minimum distance (SMD)</h1>
            <h5>Andreas Noack</h5>
            <h5>12 May 2019</h5>
          </div>

          <h1>Estimating a simpel model by simulated minimum distance &#40;SMD&#41;</h1>
<p><strong>Inspiration:</strong> This notebook is based on SMD.ipynb notebook from last lecture which is again based on a <a href="https://juliaeconomics.com/tag/method-of-simulated-moments/">Bradley Setzler&#39;s blog post</a>.</p>
<h2>Getting started</h2>
<ul>
<li><p>Download:</p>
<ul>
<li><p><a href="https://julialang.org/downloads/">Open source version</a></p>
</li>
<li><p><a href="https://juliacomputing.com/products/juliapro">JuliaPro from Julia Computing &#40;bundled with IDE and notebook support&#41;</a></p>
</li>
</ul>
</li>
<li><p><a href="https://pkg.julialang.org/docs/">Documentation &#40;language and about 1900 packages&#41;</a></p>
</li>
<li><p>Community:</p>
<ul>
<li><p><a href="https://discourse.julialang.org">Discourse</a></p>
</li>
<li><p><a href="https://julialang.slack.com">Slack</a></p>
</li>
</ul>
</li>
</ul>
<p>For introductory material on Julia for Economists, see <a href="https://lectures.quantecon.org/jl/">https://lectures.quantecon.org/jl/</a></p>
<p><strong>Some initial setup</strong></p>


<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Random</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Statistics</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>PyPlot</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Optim</span><span class='hljl-t'>
</span><span class='hljl-nf'>include</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;model.jl&quot;</span><span class='hljl-p'>);</span><span class='hljl-t'> </span><span class='hljl-cs'># Use trailing semi-colon to suppress output</span>
</pre>



<h2>The economic model</h2>
<p>Let <span class="math">$c_i$</span> denote consumption and <span class="math">$0 ⩽ l_i \leqslant 1$</span> denote leisure. Consider an agent who wishes to maximize Cobb-Douglas utility over consumption and leisure subject to a budget constraint. That is</p>
<p class="math">\[
\max_{c_i,l_i} c_i^\gamma l_i^{1-\gamma}\\
\mathrm{s.t.} \\
c_i \leqslant (1 - τ) w_i (1 - l_i) + \varepsilon_i
\]</p>
<p>where <span class="math">$0 \leqslant \gamma \leqslant 1$</span> is the relative preference for consumption, <span class="math">$w_i$</span> is wage earned from supplying labor, <span class="math">$\tau$</span> is the tax rate and <span class="math">$\varepsilon_i$</span> is a non-labor income shock.</p>
<p>This model has a closes form solution given by:</p>
<p class="math">\[
c^\star (w_i,\varepsilon_i;\gamma) = \gamma (1 - \tau) w_i +\gamma \varepsilon_i \\
l^\star(w_i,\varepsilon_i;\gamma) = (1 - \gamma) +\frac{(1 - \gamma)\varepsilon_i}{(1 - \tau) w_i}
\]</p>
<h2>The empirical goal</h2>
<p>We will impose a set of simplifying assumptions:</p>
<ul>
<li><p>The unobserved income shock is iid with known distribution, <span class="math">$\varepsilon_i \sim N(0,\sigma^2)$</span>.</p>
</li>
<li><p>The individual wages, <span class="math">$w_i$</span>, are observed along with consumption and labor choices for <span class="math">$n=10,000$</span> individuals.</p>
</li>
</ul>
<p>The goal is to estimate the relative preference for consumption and leisure, <span class="math">$\gamma$</span>, and the tax rate, <span class="math">$\tau$</span> in this model. The set of parameters to be estimated thus is <span class="math">$\theta=(\gamma,\tau,\sigma)$</span>.</p>
<p>To this end, we assume that we have a dataset consisting of <span class="math">$\{w_i,c_i,l_i\}_{i=1}^n$</span>. To simulate such a dataset we run the following code.</p>


<pre class='hljl'>
<span class='hljl-cs'># a. true parameters in the data generating process</span><span class='hljl-t'>
</span><span class='hljl-cs'>### In Julia, it is often convenient to use NamedTuples for storing parameters</span><span class='hljl-t'>
</span><span class='hljl-n'>θ</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>γ</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.5</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>τ</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>σ</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>1.0</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># b. simulate observed dataset</span><span class='hljl-t'>
</span><span class='hljl-cs'>### For reproducibility, it is a good idea, to explicitly pass a RNG (here MersenneTwister)</span><span class='hljl-t'>
</span><span class='hljl-cs'>### object to the random number functions</span><span class='hljl-t'>
</span><span class='hljl-n'>rng</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MersenneTwister</span><span class='hljl-p'>(</span><span class='hljl-ni'>123</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>n</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>10_000</span><span class='hljl-t'>

</span><span class='hljl-cs'>## stochastic variables</span><span class='hljl-t'>
</span><span class='hljl-cs'>### distribution of log-wages are (arbitrarily) chosen to be standard normal</span><span class='hljl-t'>
</span><span class='hljl-n'>w</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>exp</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-nf'>randn</span><span class='hljl-p'>(</span><span class='hljl-n'>rng</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>e</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>θ</span><span class='hljl-oB'>.</span><span class='hljl-n'>σ</span><span class='hljl-oB'>*</span><span class='hljl-nf'>randn</span><span class='hljl-p'>(</span><span class='hljl-n'>rng</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># optimal choices</span><span class='hljl-t'>
</span><span class='hljl-cs'>### We use the dot-syntax `foo.`` to make the function *broadcast* over all elements of the</span><span class='hljl-t'>
</span><span class='hljl-cs'>### arrays and we use `Ref` to signal that an argument should be treated as a scalar in the</span><span class='hljl-t'>
</span><span class='hljl-cs'>### broadcast operation.</span><span class='hljl-t'>
</span><span class='hljl-n'>con</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>Model</span><span class='hljl-oB'>.</span><span class='hljl-n'>c_star</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Ref</span><span class='hljl-p'>(</span><span class='hljl-n'>θ</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>lab</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>Model</span><span class='hljl-oB'>.</span><span class='hljl-n'>l_star</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Ref</span><span class='hljl-p'>(</span><span class='hljl-n'>θ</span><span class='hljl-p'>));</span>
</pre>



<h2>Visualizing the data</h2>
<p>We could imagine plotting the scatter of consumption and labor supply against wages.</p>


<pre class='hljl'>
<span class='hljl-cs'>### There are several plotting packages in Julia but for here we use the PyPlot.jl package</span><span class='hljl-t'>
</span><span class='hljl-cs'>### which wraps Python&#39;s matplotlib. Notice, that it is possible to reuse much of the</span><span class='hljl-t'>
</span><span class='hljl-cs'>### Python syntax dispite this being evaluated as normal Julia code.</span><span class='hljl-t'>
</span><span class='hljl-n'>fig</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>plt</span><span class='hljl-oB'>.</span><span class='hljl-nf'>figure</span><span class='hljl-p'>(</span><span class='hljl-n'>figsize</span><span class='hljl-oB'>=</span><span class='hljl-p'>(</span><span class='hljl-ni'>10</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>fig</span><span class='hljl-oB'>.</span><span class='hljl-nf'>add_subplot</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>scatter</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>con</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>grid</span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>set_xlabel</span><span class='hljl-p'>(</span><span class='hljl-so'>raw&quot;$w_i$&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>set_ylabel</span><span class='hljl-p'>(</span><span class='hljl-so'>raw&quot;$c_i$&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>ax</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>fig</span><span class='hljl-oB'>.</span><span class='hljl-nf'>add_subplot</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>scatter</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>lab</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>grid</span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>set_xlabel</span><span class='hljl-p'>(</span><span class='hljl-so'>raw&quot;$w_i$&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>ax</span><span class='hljl-oB'>.</span><span class='hljl-nf'>set_ylabel</span><span class='hljl-p'>(</span><span class='hljl-so'>raw&quot;$l_i$&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>fig</span>
</pre>


<img src="data:image/png;base64,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"  />

<p>We note that there is a clear relationship between consumption and wages. We could thus imagine estimating the two parameters in <span class="math">$\theta$</span> using the correlation between the consumption and wages, the average labor supply and the variance of consumption.</p>
<h2>Identification</h2>
<p>From the solution we note that the correlation between wages and consumption depends on <span class="math">$γ$</span> and <span class="math">$\tau$</span>, the mean of the labor supply should be <span class="math">$1 - \gamma$</span> and that the variance of consumption should be proportional to the variance of <span class="math">$varepsilon$</span>, <span class="math">$\sigma^2$</span>. These moments, in turn, should be able to identify the parameters in <span class="math">$\theta$</span>.</p>
<p>We can denote the moments in the data as <span class="math">$\Lambda^{\mathrm{data}} = (\mathrm{corr}(w_i, c_i), \mathrm{mean}(l_i), \mathrm{var}(c_i))$</span> and calculate them as:</p>


<pre class='hljl'>
<span class='hljl-n'>moments_fun</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>con</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>lab</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>cor</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>con</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>mean</span><span class='hljl-p'>(</span><span class='hljl-n'>lab</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>var</span><span class='hljl-p'>(</span><span class='hljl-n'>con</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>mom_data</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>moments_fun</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>con</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>lab</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>mom_data</span>
</pre>


<pre class="output">
&#40;0.8673269168418695, 0.4810790538523146, 1.0050937857814541&#41;
</pre>


<h2>An SMD Estimator</h2>
<p>We can then estimate <span class="math">$\theta$</span> by minimizing the squared distance between the empirical moments in the data, <span class="math">$\Lambda^\mathrm{data}$</span>, and the same moments calculated from <span class="math">$S=100$</span> simulated agents for each of the <span class="math">$n$</span> values of <span class="math">$w_i$</span> from the model for each guess of <span class="math">$\theta$</span>, <span class="math">$\Lambda^\mathrm{sim}(\theta;w)$</span>.</p>
<p>Specifically, we simulate draws of <span class="math">$\{\varepsilon_i^{(s)}\}_{i=1,s=1}^{n,S}$</span>,calculate the synthetic dataset for a value of <span class="math">$\theta$</span>, <span class="math">$\{w_i, s_i^{(s)}, l_i^{(s)}\}_{i=1,s=1}^{n,S}$</span>, and stack these <span class="math">$n\times S$</span> observations to calculate the moments above to get <span class="math">$Λ^\mathrm{sim}(\theta;w)$</span>.</p>
<p>Our <strong>SMD estimator</strong> is</p>
<p class="math">\[
\hat{\theta} = \arg \min_\theta Q(\theta;w)
\]</p>
<p>where the objective function is <span class="math">$Q(\theta,w) = \|\Lambda^\mathrm{data} - \Lambda^\mathrm{sim}(\theta,w)\|^2$</span></p>
<p>The objective function could be coded as done in the <code>obj_fun</code>. In the <code>model.jl</code> file.</p>
<h2>Objective function</h2>
<p>We specify which parameters to be estimated and construct initial starting values as</p>


<pre class='hljl'>
<span class='hljl-n'>θ₀</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>γ</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>τ</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.15</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>σ</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.9</span><span class='hljl-p'>)</span><span class='hljl-t'>  </span><span class='hljl-cs'># initial guesses</span>
</pre>


<pre class="output">
&#40;γ &#61; 0.4, τ &#61; 0.15, σ &#61; 0.9&#41;
</pre>


<p>And we can evaluate the objective function as</p>


<pre class='hljl'>
<span class='hljl-n'>obj_at_θ₀</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>Model</span><span class='hljl-oB'>.</span><span class='hljl-nf'>obj_fun</span><span class='hljl-p'>(</span><span class='hljl-n'>θ₀</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>mom_data</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>moments_fun</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
0.12185671913345228
</pre>


<h1>Call optimizer</h1>
<p>We then call an unconstained optimizer using numerical gradients with option to print iterations</p>


<pre class='hljl'>
<span class='hljl-cs'>### The optimization function passes a `Vector` to the objective function so first we have</span><span class='hljl-t'>
</span><span class='hljl-cs'>### to construct a `NamedTuple` from the `Vector`</span><span class='hljl-t'>
</span><span class='hljl-n'>obj_fun</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>vθ</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>Model</span><span class='hljl-oB'>.</span><span class='hljl-nf'>obj_fun</span><span class='hljl-p'>((</span><span class='hljl-n'>γ</span><span class='hljl-oB'>=</span><span class='hljl-n'>vθ</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>τ</span><span class='hljl-oB'>=</span><span class='hljl-n'>vθ</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>σ</span><span class='hljl-oB'>=</span><span class='hljl-n'>vθ</span><span class='hljl-p'>[</span><span class='hljl-ni'>3</span><span class='hljl-p'>]),</span><span class='hljl-t'> </span><span class='hljl-n'>w</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>mom_data</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>moments_fun</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>results</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>optimize</span><span class='hljl-p'>(</span><span class='hljl-n'>obj_fun</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>θ₀</span><span class='hljl-oB'>...</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-nf'>BFGS</span><span class='hljl-p'>())</span><span class='hljl-t'> </span><span class='hljl-cs'># [θ₀...] converts the NamedTuple to a Vector</span>
</pre>


<pre class="output">
Results of Optimization Algorithm
 * Algorithm: BFGS
 * Starting Point: &#91;0.4,0.15,0.9&#93;
 * Minimizer: &#91;0.520726900724164,0.23427069484126523, ...&#93;
 * Minimum: 9.384266e-20
 * Iterations: 9
 * Convergence: true
   * |x - x&#39;| ≤ 0.0e&#43;00: false 
     |x - x&#39;| &#61; 3.52e-07 
   * |f&#40;x&#41; - f&#40;x&#39;&#41;| ≤ 0.0e&#43;00 |f&#40;x&#41;|: false
     |f&#40;x&#41; - f&#40;x&#39;&#41;| &#61; 1.76e&#43;05 |f&#40;x&#41;|
   * |g&#40;x&#41;| ≤ 1.0e-08: true 
     |g&#40;x&#41;| &#61; 3.69e-10 
   * Stopped by an increasing objective: false
   * Reached Maximum Number of Iterations: false
 * Objective Calls: 24
 * Gradient Calls: 24
</pre>



<pre class='hljl'>
<span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;True value:&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>θ₀</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
True value:&#40;γ &#61; 0.4, τ &#61; 0.15, σ &#61; 0.9&#41;
</pre>



<pre class='hljl'>
<span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;Estimated value:&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>NamedTuple</span><span class='hljl-p'>{</span><span class='hljl-nf'>keys</span><span class='hljl-p'>(</span><span class='hljl-n'>θ₀</span><span class='hljl-p'>)}(</span><span class='hljl-n'>round</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-n'>results</span><span class='hljl-oB'>.</span><span class='hljl-n'>minimizer</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>digits</span><span class='hljl-oB'>=</span><span class='hljl-ni'>2</span><span class='hljl-p'>)))</span>
</pre>


<pre class="output">
Estimated value:&#40;γ &#61; 0.52, τ &#61; 0.23, σ &#61; 0.96&#41;
</pre>




          <HR/>
          <div class="footer"><p>
          Published from <a href="SMD.jmd">SMD.jmd</a> using
          <a href="http://github.com/mpastell/Weave.jl">Weave.jl</a>
           on 2019-05-13.
          <p></div>


        </div>
      </div>
    </div>
  </BODY>
</HTML>
